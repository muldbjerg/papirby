/* HEADER */
.main-header {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  background-color: rgba(231, 226, 217, 0.7);
  background-color: rgba(238, 234, 227, 0.7);
  border: 1px solid #b9ab90;
  border-radius: 30px;
  position: fixed;
  width: var(--site-width);
  max-width: var(--site-max-width);
  padding: 16px 24px;
  margin: 0 auto;
  left: 50%;
  transform: translate(-50%, 0);
  z-index: 9;
  margin-top: 24px;

  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;

  a {
    color: var(--main-text-color);

    @media (hover: hover) {
      &:hover {
        color: #9f8b66;
      }
    }
  }

  .logo {
    a {
      float: left;
      display: grid;
      align-items: center;
      grid-template-columns: auto 1fr;
      column-gap: 8px;

      @media (hover: hover) {
        &:hover {
          color: #23660f;
        }
      }
    }

    svg {
      float: left;
      height: 32px;
      width: 32px;
    }
  }
}

/* MENU */
.main-nav {
  ul {
    padding: 0px;
    margin: 0px;

    li {
      display: inline;
      position: relative;

      a {
        font-size: 1.15rem;

        @media (hover: hover) {
          &:hover {
            color: #23660f;
          }
        }
      }

      &.current-menu-item > a {
        color: #23660f;
      }
    }
  }
}

.main-menu > ul > li:has(ul) > a::after {
  position: relative;
  content: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMC41IDEuNzVMNiA2LjI1TDEuNSAxLjc1IiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIxLjEyNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=");
  margin-left: 8px;
  margin-right: 4px;
  opacity: 0.5;
  display: inline-block;
  transform: translateY(-3px);
}

.main-nav li a {
  padding: 34px 12px;
}

.main-nav ul li {
  display: inline;
}

.main-nav ul ul {
  display: none;
  position: absolute;
  top: 52px;
  left: 0;
  padding: 0px;
  width: 180px;
  border-radius: 8px;

  z-index: 9;
  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
  background-color: #fff;
}

.main-nav ul ul > li:has(ul) > a::after {
  position: relative;
  content: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDggMTMiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8xNTgzXzU3MTIpIj4KPHBhdGggZD0iTTEuNzUgMi4yNUw2LjI1IDYuNzVMMS43NSAxMS4yNSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjEyNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMTU4M181NzEyIj4KPHJlY3Qgd2lkdGg9IjEyIiBoZWlnaHQ9IjcuNSIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMjUgMTIuNzUpIHJvdGF0ZSgtOTApIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+");
  float: right;
}

.main-nav ul ul li a {
  display: inline-block;
  width: 100%;
}

.main-nav ul ul li a {
  padding: 6px 12px;
}

.main-nav ul li:hover > ul {
  display: block;
}

.main-nav ul ul ul {
  display: none;
  position: absolute;
  top: 0px;
  left: 180px;
  padding: 0px;
  z-index: 99999;
  width: 180px;
  background: #fff;
  box-shadow: 0px 3px 3px rgba(0, 0, 0, 0.2);
  margin-top: -6px;
}

@media (hover: hover) {
  .main-nav ul li:hover > ul li:hover > ul {
    display: block;
    //
  }
}

@media only screen and (max-width: 900px) {
  .main-nav ul {
    display: none;
  }

  .main-nav::after {
    display: block;
    content: "â˜°";
    width: auto;
    font-size: 1.6rem;
    margin-top: -8px;
    padding: 4px 8px;
    cursor: pointer;
  }

  @media (hover: hover) {
    .main-nav:hover::after {
      color: #23660f;
    }
  }

  .main-nav.open::after {
    content: "ð—‘";
    padding: 4px 14px;
  }

  .main-nav.open > .main-menu > ul {
    display: block;
    position: fixed;
    width: 100%;
    border: 1px solid #b9ab90;
    max-height: calc(100vh - 140px);
    max-height: calc(100dvh - 140px);
    top: 64px;
    left: 50%;
    transform: translate(-50%, 0);
    z-index: 9;
    margin-top: 24px;
    box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;
    padding: 16px 24px;
    border-radius: 30px;
    overflow: scroll;
    background-color: rgba(238, 234, 227, 0.95);

    -webkit-backdrop-filter: blur(4px);
    backdrop-filter: blur(10px);

    ul {
      background-color: rgba(255, 255, 255, 0.3);
      border: 1px solid #b9ab90;
      box-shadow: none;
      margin-bottom: 16px;
      display: block;
      position: relative;
      width: 96%;
      top: 8px;
      left: 2%;
    }

    & > li {
      display: block;
      padding: 8px 16px 8px 0;

      & > a {
        font-weight: 600;
        font-size: 1.5rem;
      }

      a {
        padding: 8px 16px;

        &::after {
          display: none;
        }
      }

      & > ul {
        background-color: rgba(255, 255, 255, 0.2);

        & > li > ul {
          background-color: rgba(255, 255, 255, 0.5);

          & > li > ul {
            background-color: rgba(255, 255, 255, 0.7);
          }
        }
      }
    }
  }
}

// MARK LAST ITEM
body:not(.home) .nav-menu > li:last-child a {
  background-color: var(--pop-color);
  color: #fff;
  padding-top: 8px;
  padding-bottom: 8px;
  border-radius: 32px;

  transition: var(--standard-transition);

  @media (hover: hover) {
    &:hover {
      background-color: #7f1632;
    }
  }

  &:active {
    transform: scale(0.95);
  }
}
